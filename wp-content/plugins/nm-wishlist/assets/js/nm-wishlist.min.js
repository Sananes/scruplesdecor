/* NM Wishlist */
(function(b){var h={init:function(){var e=!1;if(b.cookie){var c=b.cookie("nm-wishlist-items");if(c){var c=JSON.parse(c),f;for(f in c)c.hasOwnProperty(f)&&b("#nm-wishlist-item-"+f+"-button").addClass("added")}}b(document).on("click",".nm-wishlist-button",function(a){a.preventDefault();if(!e){a=b(this).data("product-id");var c=b(".nm-wishlist-item-"+a+"-button");c.toggleClass("added");e=b.ajax({type:"POST",url:nm_wp_vars.ajaxUrl,data:{action:"nm_wishlist_toggle",product_id:a},dataType:"json",cache:!1,
headers:{"cache-control":"no-cache"},complete:function(){e=!1},success:function(a){"1"===a.status?(c.attr("title",nm_wishlist_vars.wlButtonTitleRemove),b("body").trigger("wishlist_added_item")):(c.attr("title",nm_wishlist_vars.wlButtonTitleAdd),b("body").trigger("wishlist_removed_item"))}})}});var d=b("#nm-wishlist-table");if(d.length){var g=function(a){a=a.closest("tr");var c=a.data("product-id");b.ajax({type:"POST",url:nm_wp_vars.ajaxUrl,data:{action:"nm_wishlist_toggle",product_id:c},dataType:"json",
cache:!1,headers:{"cache-control":"no-cache"},success:function(a){b("body").trigger("wishlist_removed_item")}});1==d.children("tbody").children("tr").not(".hiding").length&&(b("#nm-wishlist").css("display","none"),b("#nm-wishlist-empty").addClass("show"));a.addClass("hiding").fadeOut(150,function(){b(this).remove()})};d.find(".title .nm-wishlist-remove").bind("click",function(a){a.preventDefault();a=b(this);a.hasClass("clicked")||(a.addClass("clicked"),g(a))});d.find(".actions .product_type_simple").bind("click",
function(a){g(b(this))})}}};b(document).ready(function(){h.init()})})(jQuery);