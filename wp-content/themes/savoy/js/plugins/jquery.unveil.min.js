/* jQuery Unveil - A very lightweight jQuery plugin to lazy load images - http://luis-almeida.github.com/unveil - Licensed under the MIT license. Copyright 2013 LuÃ­s Almeida - https://github.com/luis-almeida */
(function(e){e.fn.unveil=function(k,c){function b(){g=a.filter(function(){var f=e(this);if(!f.is(":hidden")){var a=d.scrollTop(),c=a+d.height(),b=f.offset().top;return b+f.height()>=a-h&&b<=c+h}}).trigger("unveil");a=a.not(g);0==a.length&&d.off("scroll.unveil resize.unveil lookup.unveil")}var d=e(window),h=k||0,l=1<window.devicePixelRatio?"data-src-retina":"data-src",a=this,g;this.one("unveil",function(){var a=this.getAttribute(l);if(a=a||this.getAttribute("data-src"))this.setAttribute("src",a),"function"=== typeof c&&c.call(this)});d.on("scroll.unveil resize.unveil lookup.unveil",b);b();return this}})(window.jQuery||window.Zepto);