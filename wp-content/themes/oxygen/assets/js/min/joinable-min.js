jQuery.fn.autoGrow=function(){return this.each(function(){var e=function(e){return jQuery(e).after('<div class="autogrow-textarea-mirror"></div>'),jQuery(e).next(".autogrow-textarea-mirror")[0]},t=function(e){i.innerHTML=String(e.value).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br />")+".<br/>.",jQuery(e).height()!=jQuery(i).height()&&jQuery(e).height(jQuery(i).height())},o=function(){t(this)},i=e(this);i.style.display="none",i.style.wordWrap="break-word",i.style.padding=jQuery(this).css("padding"),i.style.width=jQuery(this).css("width"),i.style.fontFamily=jQuery(this).css("font-family"),i.style.fontSize=jQuery(this).css("font-size"),i.style.lineHeight=jQuery(this).css("line-height"),this.style.overflow="hidden",this.style.minHeight=this.rows+"em",this.onkeyup=o,t(this)})},function(e){e.fn.hoverIntent=function(t,o,i){var r={interval:100,sensitivity:7,timeout:0};r="object"==typeof t?e.extend(r,t):e.isFunction(o)?e.extend(r,{over:t,out:o,selector:i}):e.extend(r,{over:t,out:t,selector:o});var n,s,l,a,c=function(e){n=e.pageX,s=e.pageY},u=function(t,o){return o.hoverIntent_t=clearTimeout(o.hoverIntent_t),Math.abs(l-n)+Math.abs(a-s)<r.sensitivity?(e(o).off("mousemove.hoverIntent",c),o.hoverIntent_s=1,r.over.apply(o,[t])):(l=n,a=s,o.hoverIntent_t=setTimeout(function(){u(t,o)},r.interval),void 0)},d=function(e,t){return t.hoverIntent_t=clearTimeout(t.hoverIntent_t),t.hoverIntent_s=0,r.out.apply(t,[e])},h=function(t){var o=jQuery.extend({},t),i=this;i.hoverIntent_t&&(i.hoverIntent_t=clearTimeout(i.hoverIntent_t)),"mouseenter"==t.type?(l=o.pageX,a=o.pageY,e(i).on("mousemove.hoverIntent",c),1!=i.hoverIntent_s&&(i.hoverIntent_t=setTimeout(function(){u(o,i)},r.interval))):(e(i).off("mousemove.hoverIntent",c),1==i.hoverIntent_s&&(i.hoverIntent_t=setTimeout(function(){d(o,i)},r.timeout)))};return this.on({"mouseenter.hoverIntent":h,"mouseleave.hoverIntent":h},r.selector)}}(jQuery),function(e){var t=!1,o=!1,i=5e3,r=2e3,n=0,s=function(){var e=document.getElementsByTagName("script"),e=e[e.length-1].src.split("?")[0];return 0<e.split("/").length?e.split("/").slice(0,-1).join("/")+"/":""}();Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var o=0,i=this.length;i>o;++o)e.call(t,this[o],o,this)});var l=window.requestAnimationFrame||!1,c=window.cancelAnimationFrame||!1;["ms","moz","webkit","o"].forEach(function(e){l||(l=window[e+"RequestAnimationFrame"]),c||(c=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"])});var u=window.MutationObserver||window.WebKitMutationObserver||!1,d={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:!1,cursordragontouch:!1},h=!1,p=function(){if(h)return h;var e=document.createElement("DIV"),t={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};t.isopera="opera"in window,t.isopera12=t.isopera&&"getUserMedia"in navigator,t.isie="all"in document&&"attachEvent"in e&&!t.isopera,t.isieold=t.isie&&!("msInterpolationMode"in e.style),t.isie7=!(!t.isie||t.isieold||"documentMode"in document&&7!=document.documentMode),t.isie8=t.isie&&"documentMode"in document&&8==document.documentMode,t.isie9=t.isie&&"performance"in window&&9<=document.documentMode,t.isie10=t.isie&&"performance"in window&&10<=document.documentMode,t.isie9mobile=/iemobile.9/i.test(navigator.userAgent),t.isie9mobile&&(t.isie9=!1),t.isie7mobile=!t.isie9mobile&&t.isie7&&/iemobile/i.test(navigator.userAgent),t.ismozilla="MozAppearance"in e.style,t.iswebkit="WebkitAppearance"in e.style,t.ischrome="chrome"in window,t.ischrome22=t.ischrome&&t.haspointerlock,t.ischrome26=t.ischrome&&"transition"in e.style,t.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,t.hasmstouch=window.navigator.msPointerEnabled||!1,t.ismac=/^mac$/i.test(navigator.platform),t.isios=t.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),t.isios4=t.isios&&!("seal"in Object),t.isandroid=/android/i.test(navigator.userAgent),t.trstyle=!1,t.hastransform=!1,t.hastranslate3d=!1,t.transitionstyle=!1,t.hastransition=!1,t.transitionend=!1;for(var o=["transform","msTransform","webkitTransform","MozTransform","OTransform"],i=0;i<o.length;i++)if("undefined"!=typeof e.style[o[i]]){t.trstyle=o[i];break}t.hastransform=0!=t.trstyle,t.hastransform&&(e.style[t.trstyle]="translate3d(1px,2px,3px)",t.hastranslate3d=/translate3d/.test(e.style[t.trstyle])),t.transitionstyle=!1,t.prefixstyle="",t.transitionend=!1;for(var o="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),r=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),n="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),i=0;i<o.length;i++)if(o[i]in e.style){t.transitionstyle=o[i],t.prefixstyle=r[i],t.transitionend=n[i];break}t.ischrome26&&(t.prefixstyle=r[1]),t.hastransition=t.transitionstyle;e:{for(o=["-moz-grab","-webkit-grab","grab"],(t.ischrome&&!t.ischrome22||t.isie)&&(o=[]),i=0;i<o.length;i++)if(r=o[i],e.style.cursor=r,e.style.cursor==r){o=r;break e}o="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return t.cursorgrabvalue=o,t.hasmousecapture="setCapture"in e,t.hasMutationObserver=!1!==u,h=t},m=function(a,h){function m(){var e=y.win;if("zIndex"in e)return e.zIndex();for(;0<e.length&&9!=e[0].nodeType;){var t=e.css("zIndex");if(!isNaN(t)&&0!=t)return parseInt(t);e=e.parent()}return!1}function g(e,t,o){return t=e.css(t),e=parseFloat(t),isNaN(e)?(e=S[t]||0,o=3==e?o?y.win.outerHeight()-y.win.innerHeight():y.win.outerWidth()-y.win.innerWidth():1,y.isie8&&e&&(e+=1),o?e:0):e}function w(e,t,o,i){y._bind(e,t,function(i){i=i?i:window.event;var r={original:i,target:i.target||i.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return i.preventDefault?i.preventDefault():i.returnValue=!1,!1},stopImmediatePropagation:function(){i.stopImmediatePropagation?i.stopImmediatePropagation():i.cancelBubble=!0}};return"mousewheel"==t?(r.deltaY=-.025*i.wheelDelta,i.wheelDeltaX&&(r.deltaX=-.025*i.wheelDeltaX)):r.deltaY=i.detail,o.call(e,r)},i)}function v(e,t,o){var i,r;if(0==e.deltaMode?(i=-Math.floor(e.deltaX*(y.opt.mousescrollstep/54)),r=-Math.floor(e.deltaY*(y.opt.mousescrollstep/54))):1==e.deltaMode&&(i=-Math.floor(e.deltaX*y.opt.mousescrollstep),r=-Math.floor(e.deltaY*y.opt.mousescrollstep)),t&&0==i&&r&&(i=r,r=0),i&&(y.scrollmom&&y.scrollmom.stop(),y.lastdeltax+=i,y.debounced("mousewheelx",function(){var e=y.lastdeltax;y.lastdeltax=0,y.rail.drag||y.doScrollLeftBy(e)},120)),r){if(y.opt.nativeparentscrolling&&o&&!y.ispage&&!y.zoomactive)if(0>r){if(y.getScrollTop()>=y.page.maxh)return!0}else if(0>=y.getScrollTop())return!0;y.scrollmom&&y.scrollmom.stop(),y.lastdeltay+=r,y.debounced("mousewheely",function(){var e=y.lastdeltay;y.lastdeltay=0,y.rail.drag||y.doScrollBy(e)},120)}return e.stopImmediatePropagation(),e.preventDefault()}var y=this;if(this.version="3.4.0",this.name="nicescroll",this.me=h,this.opt={doc:e("body"),win:!1},e.extend(this.opt,d),this.opt.snapbackspeed=80,a)for(var b in y.opt)"undefined"!=typeof a[b]&&(y.opt[b]=a[b]);this.iddoc=(this.doc=y.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/BODY|HTML/.test(y.opt.win?y.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==y.opt.win,this.win=y.opt.win||(this.ispage?e(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?e(window):this.win,this.body=e("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=y.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.checkrtlmode=!1;do this.id="ascrail"+r++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=!1,this.cursoractive=!0,this.overflowx=y.opt.overflowx,this.overflowy=y.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=p();var x=e.extend({},this.detected);if(this.ishwscroll=(this.canhwscroll=x.hastransform&&y.opt.hwacceleration)&&y.haswrapper,this.istouchcapable=!1,x.cantouch&&x.ischrome&&!x.isios&&!x.isandroid&&(this.istouchcapable=!0,x.cantouch=!1),x.cantouch&&x.ismozilla&&!x.isios&&(this.istouchcapable=!0,x.cantouch=!1),y.opt.enablemouselockapi||(x.hasmousecapture=!1,x.haspointerlock=!1),this.delayed=function(e,t,o,i){var r=y.delaylist[e],n=(new Date).getTime();return!i&&r&&r.tt?!1:(r&&r.tt&&clearTimeout(r.tt),void(r&&r.last+o>n&&!r.tt?y.delaylist[e]={last:n+o,tt:setTimeout(function(){y.delaylist[e].tt=0,t.call()},o)}:r&&r.tt||(y.delaylist[e]={last:n,tt:0},setTimeout(function(){t.call()},0))))},this.debounced=function(e,t,o){var i=y.delaylist[e];(new Date).getTime(),y.delaylist[e]=t,i||setTimeout(function(){var t=y.delaylist[e];y.delaylist[e]=!1,t.call()},o)},this.synched=function(e,t){return y.synclist[e]=t,function(){y.onsync||(l(function(){y.onsync=!1;for(e in y.synclist){var t=y.synclist[e];t&&t.call(y),y.synclist[e]=!1}}),y.onsync=!0)}(),e},this.unsynched=function(e){y.synclist[e]&&(y.synclist[e]=!1)},this.css=function(e,t){for(var o in t)y.saved.css.push([e,o,e.css(o)]),e.css(o,t[o])},this.scrollTop=function(e){return"undefined"==typeof e?y.getScrollTop():y.setScrollTop(e)},this.scrollLeft=function(e){return"undefined"==typeof e?y.getScrollLeft():y.setScrollLeft(e)},BezierClass=function(e,t,o,i,r,n,s){this.st=e,this.ed=t,this.spd=o,this.p1=i||0,this.p2=r||1,this.p3=n||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-((new Date).getTime()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return 0>e?this.ed:this.st+Math.round(this.df*t)},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},x.hastranslate3d&&x.isios&&this.doc.css("-webkit-backface-visibility","hidden");var k=function(){var e=y.doc.css(x.trstyle);return e&&"matrix"==e.substr(0,6)?e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1};this.getScrollTop=function(e){if(!e){if(e=k())return 16==e.length?-e[13]:-e[5];if(y.timerscroll&&y.timerscroll.bz)return y.timerscroll.bz.getNow()}return y.doc.translate.y},this.getScrollLeft=function(e){if(!e){if(e=k())return 16==e.length?-e[12]:-e[4];if(y.timerscroll&&y.timerscroll.bh)return y.timerscroll.bh.getNow()}return y.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,window,1),e.dispatchEvent(t)}:document.fireEvent?function(e){var t=document.createEventObject();e.fireEvent("onscroll"),t.cancelBubble=!0}:function(e,t){},x.hastranslate3d&&y.opt.enabletranslate3d?(this.setScrollTop=function(e,t){y.doc.translate.y=e,y.doc.translate.ty=-1*e+"px",y.doc.css(x.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),t||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(e,t){y.doc.translate.x=e,y.doc.translate.tx=-1*e+"px",y.doc.css(x.trstyle,"translate3d("+y.doc.translate.tx+","+y.doc.translate.ty+",0px)"),t||y.notifyScrollEvent(y.win[0])}):(this.setScrollTop=function(e,t){y.doc.translate.y=e,y.doc.translate.ty=-1*e+"px",y.doc.css(x.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),t||y.notifyScrollEvent(y.win[0])},this.setScrollLeft=function(e,t){y.doc.translate.x=e,y.doc.translate.tx=-1*e+"px",y.doc.css(x.trstyle,"translate("+y.doc.translate.tx+","+y.doc.translate.ty+")"),t||y.notifyScrollEvent(y.win[0])})}else this.getScrollTop=function(){return y.docscroll.scrollTop()},this.setScrollTop=function(e){return y.docscroll.scrollTop(e)},this.getScrollLeft=function(){return y.docscroll.scrollLeft()},this.setScrollLeft=function(e){return y.docscroll.scrollLeft(e)};this.getTarget=function(e){return e?e.target?e.target:e.srcElement?e.srcElement:!1:!1},this.hasParent=function(e,t){if(!e)return!1;for(var o=e.target||e.srcElement||e||!1;o&&o.id!=t;)o=o.parentNode||!1;return!1!==o};var S={thin:1,medium:3,thick:5};this.getOffset=function(){if(y.isfixed)return{top:parseFloat(y.win.css("top")),left:parseFloat(y.win.css("left"))};if(!y.viewport)return y.win.offset();var e=y.win.offset(),t=y.viewport.offset();return{top:e.top-t.top+y.viewport.scrollTop(),left:e.left-t.left+y.viewport.scrollLeft()}},this.updateScrollBar=function(e){if(y.ishwscroll)y.rail.css({height:y.win.innerHeight()}),y.railh&&y.railh.css({width:y.win.innerWidth()});else{var t=y.getOffset(),o=t.top,i=t.left,o=o+g(y.win,"border-top-width",!0);y.win.outerWidth(),y.win.innerWidth();var i=i+(y.rail.align?y.win.outerWidth()-g(y.win,"border-right-width")-y.rail.width:g(y.win,"border-left-width")),r=y.opt.railoffset;r&&(r.top&&(o+=r.top),y.rail.align&&r.left&&(i+=r.left)),y.locked||y.rail.css({top:o,left:i,height:e?e.h:y.win.innerHeight()}),y.zoom&&y.zoom.css({top:o+1,left:1==y.rail.align?i-20:i+y.rail.width+4}),y.railh&&!y.locked&&(o=t.top,i=t.left,e=y.railh.align?o+g(y.win,"border-top-width",!0)+y.win.innerHeight()-y.railh.height:o+g(y.win,"border-top-width",!0),i+=g(y.win,"border-left-width"),y.railh.css({top:e,left:i,width:y.railh.width}))}},this.doRailClick=function(e,t,o){var i;y.locked||(y.cancelEvent(e),t?(t=o?y.doScrollLeft:y.doScrollTop,i=o?(e.pageX-y.railh.offset().left-y.cursorwidth/2)*y.scrollratio.x:(e.pageY-y.rail.offset().top-y.cursorheight/2)*y.scrollratio.y,t(i)):(t=o?y.doScrollLeftBy:y.doScrollBy,i=o?y.scroll.x:y.scroll.y,e=o?e.pageX-y.railh.offset().left:e.pageY-y.rail.offset().top,o=o?y.view.w:y.view.h,t(i>=e?o:-o)))},y.hasanimationframe=l,y.hascancelanimationframe=c,y.hasanimationframe?y.hascancelanimationframe||(c=function(){y.cancelAnimationFrame=!0}):(l=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},c=clearInterval),this.init=function(){if(y.saved.css=[],x.isie7mobile)return!0;if(x.hasmstouch&&y.css(y.ispage?e("html"):y.win,{"-ms-touch-action":"none"}),y.zindex="auto",y.zindex=y.ispage||"auto"!=y.opt.zindex?y.opt.zindex:m()||"auto",!y.ispage&&"auto"!=y.zindex&&y.zindex>n&&(n=y.zindex),y.isie&&0==y.zindex&&"auto"==y.opt.zindex&&(y.zindex="auto"),!y.ispage||!x.cantouch&&!x.isieold&&!x.isie9mobile){var r=y.docscroll;y.ispage&&(r=y.haswrapper?y.win:y.doc),x.isie9mobile||y.css(r,{"overflow-y":"hidden"}),y.ispage&&x.isie7&&("BODY"==y.doc[0].nodeName?y.css(e("html"),{"overflow-y":"hidden"}):"HTML"==y.doc[0].nodeName&&y.css(e("body"),{"overflow-y":"hidden"})),x.isios&&!y.ispage&&!y.haswrapper&&y.css(e("body"),{"-webkit-overflow-scrolling":"touch"});var l=e(document.createElement("div"));l.css({position:"relative",top:0,"float":"right",width:y.opt.cursorwidth,height:"0px","background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),l.hborder=parseFloat(l.outerHeight()-l.innerHeight()),y.cursor=l;var a=e(document.createElement("div"));a.attr("id",y.id),a.addClass("nicescroll-rails");var c,d,h=["left","right"],p;for(p in h)d=h[p],(c=y.opt.railpadding[d])?a.css("padding-"+d,c+"px"):y.opt.railpadding[d]=0;if(a.append(l),a.width=Math.max(parseFloat(y.opt.cursorwidth),l.outerWidth())+y.opt.railpadding.left+y.opt.railpadding.right,a.css({width:a.width+"px",zIndex:y.zindex,background:y.opt.background,cursor:"default"}),a.visibility=!0,a.scrollable=!0,a.align="left"==y.opt.railalign?0:1,y.rail=a,l=y.rail.drag=!1,y.opt.boxzoom&&!y.ispage&&!x.isieold&&(l=document.createElement("div"),y.bind(l,"click",y.doZoom),y.zoom=e(l),y.zoom.css({cursor:"pointer","z-index":y.zindex,backgroundImage:"url("+s+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),y.opt.dblclickzoom&&y.bind(y.win,"dblclick",y.doZoom),x.cantouch&&y.opt.gesturezoom&&(y.ongesturezoom=function(e){return 1.5<e.scale&&y.doZoomIn(e),.8>e.scale&&y.doZoomOut(e),y.cancelEvent(e)},y.bind(y.win,"gestureend",y.ongesturezoom))),y.railh=!1,y.opt.horizrailenabled){y.css(r,{"overflow-x":"hidden"}),l=e(document.createElement("div")),l.css({position:"relative",top:0,height:y.opt.cursorwidth,width:"0px","background-color":y.opt.cursorcolor,border:y.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":y.opt.cursorborderradius,"-moz-border-radius":y.opt.cursorborderradius,"border-radius":y.opt.cursorborderradius}),l.wborder=parseFloat(l.outerWidth()-l.innerWidth()),y.cursorh=l;var g=e(document.createElement("div"));g.attr("id",y.id+"-hr"),g.addClass("nicescroll-rails"),g.height=Math.max(parseFloat(y.opt.cursorwidth),l.outerHeight()),g.css({height:g.height+"px",zIndex:y.zindex,background:y.opt.background}),g.append(l),g.visibility=!0,g.scrollable=!0,g.align="top"==y.opt.railvalign?0:1,y.railh=g,y.railh.drag=!1}if(y.ispage?(a.css({position:"fixed",top:"0px",height:"100%"}),a.align?a.css({right:"0px"}):a.css({left:"0px"}),y.body.append(a),y.railh&&(g.css({position:"fixed",left:"0px",width:"100%"}),g.align?g.css({bottom:"0px"}):g.css({top:"0px"}),y.body.append(g))):(y.ishwscroll?("static"==y.win.css("position")&&y.css(y.win,{position:"relative"}),r="HTML"==y.win[0].nodeName?y.body:y.win,y.zoom&&(y.zoom.css({position:"absolute",top:1,right:0,"margin-right":a.width+4}),r.append(y.zoom)),a.css({position:"absolute",top:0}),a.align?a.css({right:0}):a.css({left:0}),r.append(a),g&&(g.css({position:"absolute",left:0,bottom:0}),g.align?g.css({bottom:0}):g.css({top:0}),r.append(g))):(y.isfixed="fixed"==y.win.css("position"),r=y.isfixed?"fixed":"absolute",y.isfixed||(y.viewport=y.getViewport(y.win[0])),y.viewport&&(y.body=y.viewport,0==/relative|absolute/.test(y.viewport.css("position"))&&y.css(y.viewport,{position:"relative"})),a.css({position:r}),y.zoom&&y.zoom.css({position:r}),y.updateScrollBar(),y.body.append(a),y.zoom&&y.body.append(y.zoom),y.railh&&(g.css({position:r}),y.body.append(g))),x.isios&&y.css(y.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),x.isie&&y.opt.disableoutline&&y.win.attr("hideFocus","true"),x.iswebkit&&y.opt.disableoutline&&y.win.css({outline:"none"})),!1===y.opt.autohidemode?(y.autohidedom=!1,y.rail.css({opacity:y.opt.cursoropacitymax}),y.railh&&y.railh.css({opacity:y.opt.cursoropacitymax})):!0===y.opt.autohidemode?(y.autohidedom=e().add(y.rail),x.isie8&&(y.autohidedom=y.autohidedom.add(y.cursor)),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh)),y.railh&&x.isie8&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"scroll"==y.opt.autohidemode?(y.autohidedom=e().add(y.rail),y.railh&&(y.autohidedom=y.autohidedom.add(y.railh))):"cursor"==y.opt.autohidemode?(y.autohidedom=e().add(y.cursor),y.railh&&(y.autohidedom=y.autohidedom.add(y.cursorh))):"hidden"==y.opt.autohidemode&&(y.autohidedom=!1,y.hide(),y.locked=!1),x.isie9mobile)y.scrollmom=new f(y),y.onmangotouch=function(e){e=y.getScrollTop();var t=y.getScrollLeft();if(e==y.scrollmom.lastscrolly&&t==y.scrollmom.lastscrollx)return!0;var o=e-y.mangotouch.sy,i=t-y.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(o,2)))){var r=0>o?-1:1,n=0>i?-1:1,s=+new Date;y.mangotouch.lazy&&clearTimeout(y.mangotouch.lazy),80<s-y.mangotouch.tm||y.mangotouch.dry!=r||y.mangotouch.drx!=n?(y.scrollmom.stop(),y.scrollmom.reset(t,e),y.mangotouch.sy=e,y.mangotouch.ly=e,y.mangotouch.sx=t,y.mangotouch.lx=t,y.mangotouch.dry=r,y.mangotouch.drx=n,y.mangotouch.tm=s):(y.scrollmom.stop(),y.scrollmom.update(y.mangotouch.sx-i,y.mangotouch.sy-o),y.mangotouch.tm=s,o=Math.max(Math.abs(y.mangotouch.ly-e),Math.abs(y.mangotouch.lx-t)),y.mangotouch.ly=e,y.mangotouch.lx=t,o>2&&(y.mangotouch.lazy=setTimeout(function(){y.mangotouch.lazy=!1,y.mangotouch.dry=0,y.mangotouch.drx=0,y.mangotouch.tm=0,y.scrollmom.doMomentum(30)},100)))}},a=y.getScrollTop(),g=y.getScrollLeft(),y.mangotouch={sy:a,ly:a,dry:0,sx:g,lx:g,drx:0,lazy:!1,tm:0},y.bind(y.docscroll,"scroll",y.onmangotouch);else{if(x.cantouch||y.istouchcapable||y.opt.touchbehavior||x.hasmstouch){y.scrollmom=new f(y),y.ontouchstart=function(t){if(t.pointerType&&2!=t.pointerType)return!1;if(!y.locked){if(x.hasmstouch)for(var o=t.target?t.target:!1;o;){var i=e(o).getNiceScroll();if(0<i.length&&i[0].me==y.me)break;if(0<i.length)return!1;if("DIV"==o.nodeName&&o.id==y.id)break;o=o.parentNode?o.parentNode:!1}if(y.cancelScroll(),(o=y.getTarget(t))&&/INPUT/i.test(o.nodeName)&&/range/i.test(o.type))return y.stopPropagation(t);if(!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),y.forcescreen&&(i=t,t={original:t.original?t.original:t},t.clientX=i.screenX,t.clientY=i.screenY),y.rail.drag={x:t.clientX,y:t.clientY,sx:y.scroll.x,sy:y.scroll.y,st:y.getScrollTop(),sl:y.getScrollLeft(),pt:2,dl:!1},y.ispage||!y.opt.directionlockdeadzone)y.rail.drag.dl="f";else{var i=e(window).width(),r=e(window).height(),n=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),s=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),r=Math.max(0,s-r),i=Math.max(0,n-i);y.rail.drag.ck=!y.rail.scrollable&&y.railh.scrollable?r>0?"v":!1:y.rail.scrollable&&!y.railh.scrollable&&i>0?"h":!1,y.rail.drag.ck||(y.rail.drag.dl="f")}if(y.opt.touchbehavior&&y.isiframe&&x.isie&&(i=y.win.position(),y.rail.drag.x+=i.left,y.rail.drag.y+=i.top),y.hasmoving=!1,y.lastmouseup=!1,y.scrollmom.reset(t.clientX,t.clientY),!x.cantouch&&!this.istouchcapable&&!x.hasmstouch){if(!o||!/INPUT|SELECT|TEXTAREA/i.test(o.nodeName))return!y.ispage&&x.hasmousecapture&&o.setCapture(),y.cancelEvent(t);/SUBMIT|CANCEL|BUTTON/i.test(e(o).attr("type"))&&(pc={tg:o,click:!1},y.preventclick=pc)}}},y.ontouchend=function(e){return e.pointerType&&2!=e.pointerType?!1:y.rail.drag&&2==y.rail.drag.pt&&(y.scrollmom.doMomentum(),y.rail.drag=!1,y.hasmoving&&(y.hasmoving=!1,y.lastmouseup=!0,y.hideCursor(),x.hasmousecapture&&document.releaseCapture(),!x.cantouch))?y.cancelEvent(e):void 0};var w=y.opt.touchbehavior&&y.isiframe&&!x.hasmousecapture;y.ontouchmove=function(t,o){if(t.pointerType&&2!=t.pointerType)return!1;if(y.rail.drag&&2==y.rail.drag.pt){if(x.cantouch&&"undefined"==typeof t.original)return!0;if(y.hasmoving=!0,y.preventclick&&!y.preventclick.click&&(y.preventclick.click=y.preventclick.tg.onclick||!1,y.preventclick.tg.onclick=y.onpreventclick),t=e.extend({original:t},t),"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),y.forcescreen){var i=t;t={original:t.original?t.original:t},t.clientX=i.screenX,t.clientY=i.screenY}if(i=ofy=0,w&&!o){var r=y.win.position(),i=-r.left;ofy=-r.top}var n=t.clientY+ofy,r=n-y.rail.drag.y,s=t.clientX+i,l=s-y.rail.drag.x,a=y.rail.drag.st-r;if(y.ishwscroll&&y.opt.bouncescroll?0>a?a=Math.round(a/2):a>y.page.maxh&&(a=y.page.maxh+Math.round((a-y.page.maxh)/2)):(0>a&&(n=a=0),a>y.page.maxh&&(a=y.page.maxh,n=0)),y.railh&&y.railh.scrollable){var c=y.rail.drag.sl-l;y.ishwscroll&&y.opt.bouncescroll?0>c?c=Math.round(c/2):c>y.page.maxw&&(c=y.page.maxw+Math.round((c-y.page.maxw)/2)):(0>c&&(s=c=0),c>y.page.maxw&&(c=y.page.maxw,s=0))}if(i=!1,y.rail.drag.dl)i=!0,"v"==y.rail.drag.dl?c=y.rail.drag.sl:"h"==y.rail.drag.dl&&(a=y.rail.drag.st);else{var r=Math.abs(r),l=Math.abs(l),u=y.opt.directionlockdeadzone;if("v"==y.rail.drag.ck){if(r>u&&.3*r>=l)return y.rail.drag=!1,!0;l>u&&(y.rail.drag.dl="f",e("body").scrollTop(e("body").scrollTop()))}else if("h"==y.rail.drag.ck){if(l>u&&r<=.3*az)return y.rail.drag=!1,!0;r>u&&(y.rail.drag.dl="f",e("body").scrollLeft(e("body").scrollLeft()))}}if(y.synched("touchmove",function(){y.rail.drag&&2==y.rail.drag.pt&&(y.prepareTransition&&y.prepareTransition(0),y.rail.scrollable&&y.setScrollTop(a),y.scrollmom.update(s,n),y.railh&&y.railh.scrollable?(y.setScrollLeft(c),y.showCursor(a,c)):y.showCursor(a),x.isie10&&document.selection.clear())}),x.ischrome&&y.istouchcapable&&(i=!1),i)return y.cancelEvent(t)}}}if(y.onmousedown=function(e,t){if(!y.rail.drag||1==y.rail.drag.pt){if(y.locked)return y.cancelEvent(e);y.cancelScroll(),y.rail.drag={x:e.clientX,y:e.clientY,sx:y.scroll.x,sy:y.scroll.y,pt:1,hr:!!t};var o=y.getTarget(e);return!y.ispage&&x.hasmousecapture&&o.setCapture(),y.isiframe&&!x.hasmousecapture&&(y.saved.csspointerevents=y.doc.css("pointer-events"),y.css(y.doc,{"pointer-events":"none"})),y.cancelEvent(e)}},y.onmouseup=function(e){return y.rail.drag&&(x.hasmousecapture&&document.releaseCapture(),y.isiframe&&!x.hasmousecapture&&y.doc.css("pointer-events",y.saved.csspointerevents),1==y.rail.drag.pt)?(y.rail.drag=!1,y.cancelEvent(e)):void 0},y.onmousemove=function(e){if(y.rail.drag&&1==y.rail.drag.pt){if(x.ischrome&&0==e.which)return y.onmouseup(e);if(y.cursorfreezed=!0,y.rail.drag.hr){y.scroll.x=y.rail.drag.sx+(e.clientX-y.rail.drag.x),0>y.scroll.x&&(y.scroll.x=0);var t=y.scrollvaluemaxw;y.scroll.x>t&&(y.scroll.x=t)}else y.scroll.y=y.rail.drag.sy+(e.clientY-y.rail.drag.y),0>y.scroll.y&&(y.scroll.y=0),t=y.scrollvaluemax,y.scroll.y>t&&(y.scroll.y=t);return y.synched("mousemove",function(){y.rail.drag&&1==y.rail.drag.pt&&(y.showCursor(),y.rail.drag.hr?y.doScrollLeft(Math.round(y.scroll.x*y.scrollratio.x),y.opt.cursordragspeed):y.doScrollTop(Math.round(y.scroll.y*y.scrollratio.y),y.opt.cursordragspeed))}),y.cancelEvent(e)}},x.cantouch||y.opt.touchbehavior)y.onpreventclick=function(e){return y.preventclick?(y.preventclick.tg.onclick=y.preventclick.click,y.preventclick=!1,y.cancelEvent(e)):void 0},y.bind(y.win,"mousedown",y.ontouchstart),y.onclick=x.isios?!1:function(e){return y.lastmouseup?(y.lastmouseup=!1,y.cancelEvent(e)):!0},y.opt.grabcursorenabled&&x.cursorgrabvalue&&(y.css(y.ispage?y.doc:y.win,{cursor:x.cursorgrabvalue}),y.css(y.rail,{cursor:x.cursorgrabvalue}));else{var v=function(e){if(y.selectiondrag){if(e){var t=y.win.outerHeight();e=e.pageY-y.selectiondrag.top,e>0&&t>e&&(e=0),e>=t&&(e-=t),y.selectiondrag.df=e}0!=y.selectiondrag.df&&(y.doScrollBy(2*-Math.floor(y.selectiondrag.df/6)),y.debounced("doselectionscroll",function(){v()},50))}};y.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},y.onselectionstart=function(e){y.ispage||(y.selectiondrag=y.win.offset())},y.onselectionend=function(e){y.selectiondrag=!1},y.onselectiondrag=function(e){y.selectiondrag&&y.hasTextSelected()&&y.debounced("selectionscroll",function(){v(e)},250)}}x.hasmstouch&&(y.css(y.rail,{"-ms-touch-action":"none"}),y.css(y.cursor,{"-ms-touch-action":"none"}),y.bind(y.win,"MSPointerDown",y.ontouchstart),y.bind(document,"MSPointerUp",y.ontouchend),y.bind(document,"MSPointerMove",y.ontouchmove),y.bind(y.cursor,"MSGestureHold",function(e){e.preventDefault()}),y.bind(y.cursor,"contextmenu",function(e){e.preventDefault()})),this.istouchcapable&&(y.bind(y.win,"touchstart",y.ontouchstart),y.bind(document,"touchend",y.ontouchend),y.bind(document,"touchcancel",y.ontouchend),y.bind(document,"touchmove",y.ontouchmove)),y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mouseup",y.onmouseup),y.railh&&(y.bind(y.cursorh,"mousedown",function(e){y.onmousedown(e,!0)}),y.bind(y.cursorh,"mouseup",function(e){return y.rail.drag&&2==y.rail.drag.pt?void 0:(y.rail.drag=!1,y.hasmoving=!1,y.hideCursor(),x.hasmousecapture&&document.releaseCapture(),y.cancelEvent(e))})),(y.opt.cursordragontouch||!x.cantouch&&!y.opt.touchbehavior)&&(y.rail.css({cursor:"default"}),y.railh&&y.railh.css({cursor:"default"}),y.jqbind(y.rail,"mouseenter",function(){y.canshowonmouseevent&&y.showCursor(),y.rail.active=!0}),y.jqbind(y.rail,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.rail,"click",function(e){y.doRailClick(e,!1,!1)}),y.bind(y.rail,"dblclick",function(e){y.doRailClick(e,!0,!1)}),y.bind(y.cursor,"click",function(e){y.cancelEvent(e)}),y.bind(y.cursor,"dblclick",function(e){y.cancelEvent(e)})),y.railh&&(y.jqbind(y.railh,"mouseenter",function(){y.canshowonmouseevent&&y.showCursor(),y.rail.active=!0}),y.jqbind(y.railh,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}),y.opt.sensitiverail&&(y.bind(y.railh,"click",function(e){y.doRailClick(e,!1,!0)}),y.bind(y.railh,"dblclick",function(e){y.doRailClick(e,!0,!0)}),y.bind(y.cursorh,"click",function(e){y.cancelEvent(e)}),y.bind(y.cursorh,"dblclick",function(e){y.cancelEvent(e)})))),x.cantouch||y.opt.touchbehavior?(y.bind(x.hasmousecapture?y.win:document,"mouseup",y.ontouchend),y.bind(document,"mousemove",y.ontouchmove),y.onclick&&y.bind(document,"click",y.onclick),y.opt.cursordragontouch&&(y.bind(y.cursor,"mousedown",y.onmousedown),y.bind(y.cursor,"mousemove",y.onmousemove),y.cursorh&&y.bind(y.cursorh,"mousedown",y.onmousedown),y.cursorh&&y.bind(y.cursorh,"mousemove",y.onmousemove))):(y.bind(x.hasmousecapture?y.win:document,"mouseup",y.onmouseup),y.bind(document,"mousemove",y.onmousemove),y.onclick&&y.bind(document,"click",y.onclick),!y.ispage&&y.opt.enablescrollonselection&&(y.bind(y.win[0],"mousedown",y.onselectionstart),y.bind(document,"mouseup",y.onselectionend),y.bind(y.cursor,"mouseup",y.onselectionend),y.cursorh&&y.bind(y.cursorh,"mouseup",y.onselectionend),y.bind(document,"mousemove",y.onselectiondrag)),y.zoom&&(y.jqbind(y.zoom,"mouseenter",function(){y.canshowonmouseevent&&y.showCursor(),y.rail.active=!0}),y.jqbind(y.zoom,"mouseleave",function(){y.rail.active=!1,y.rail.drag||y.hideCursor()}))),y.opt.enablemousewheel&&(y.isiframe||y.bind(x.isie&&y.ispage?document:y.docscroll,"mousewheel",y.onmousewheel),y.bind(y.rail,"mousewheel",y.onmousewheel),y.railh&&y.bind(y.railh,"mousewheel",y.onmousewheelhr)),!y.ispage&&!x.cantouch&&!/HTML|BODY/.test(y.win[0].nodeName)&&(y.win.attr("tabindex")||y.win.attr({tabindex:i++}),y.jqbind(y.win,"focus",function(e){t=y.getTarget(e).id||!0,y.hasfocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"blur",function(e){t=!1,y.hasfocus=!1}),y.jqbind(y.win,"mouseenter",function(e){o=y.getTarget(e).id||!0,y.hasmousefocus=!0,y.canshowonmouseevent&&y.noticeCursor()}),y.jqbind(y.win,"mouseleave",function(){o=!1,y.hasmousefocus=!1}))}if(y.onkeypress=function(e){if(y.locked&&0==y.page.maxh)return!0;e=e?e:window.e;var i=y.getTarget(e);if(i&&/INPUT|TEXTAREA|SELECT|OPTION/.test(i.nodeName)&&(!i.getAttribute("type")&&!i.type||!/submit|button|cancel/i.tp))return!0;if(y.hasfocus||y.hasmousefocus&&!t||y.ispage&&!t&&!o){if(i=e.keyCode,y.locked&&27!=i)return y.cancelEvent(e);var r=e.ctrlKey||!1,n=e.shiftKey||!1,s=!1;
switch(i){case 38:case 63233:y.doScrollBy(72),s=!0;break;case 40:case 63235:y.doScrollBy(-72),s=!0;break;case 37:case 63232:y.railh&&(r?y.doScrollLeft(0):y.doScrollLeftBy(72),s=!0);break;case 39:case 63234:y.railh&&(r?y.doScrollLeft(y.page.maxw):y.doScrollLeftBy(-72),s=!0);break;case 33:case 63276:y.doScrollBy(y.view.h),s=!0;break;case 34:case 63277:y.doScrollBy(-y.view.h),s=!0;break;case 36:case 63273:y.railh&&r?y.doScrollPos(0,0):y.doScrollTo(0),s=!0;break;case 35:case 63275:y.railh&&r?y.doScrollPos(y.page.maxw,y.page.maxh):y.doScrollTo(y.page.maxh),s=!0;break;case 32:y.opt.spacebarenabled&&(n?y.doScrollBy(y.view.h):y.doScrollBy(-y.view.h),s=!0);break;case 27:y.zoomactive&&(y.doZoom(),s=!0)}if(s)return y.cancelEvent(e)}},y.opt.enablekeyboard&&y.bind(document,x.isopera&&!x.isopera12?"keypress":"keydown",y.onkeypress),y.bind(window,"resize",y.lazyResize),y.bind(window,"orientationchange",y.lazyResize),y.bind(window,"load",y.lazyResize),x.ischrome&&!y.ispage&&!y.haswrapper){var b=y.win.attr("style"),a=parseFloat(y.win.css("width"))+1;y.win.css("width",a),y.synched("chromefix",function(){y.win.attr("style",b)})}y.onAttributeChange=function(e){y.lazyResize(250)},!y.ispage&&!y.haswrapper&&(!1!==u?(y.observer=new u(function(e){e.forEach(y.onAttributeChange)}),y.observer.observe(y.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),y.observerremover=new u(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var t in e.removedNodes)if(e.removedNodes[t]==y.win[0])return y.remove()})}),y.observerremover.observe(y.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(y.bind(y.win,x.isie&&!x.isie9?"propertychange":"DOMAttrModified",y.onAttributeChange),x.isie9&&y.win[0].attachEvent("onpropertychange",y.onAttributeChange),y.bind(y.win,"DOMNodeRemoved",function(e){e.target==y.win[0]&&y.remove()}))),!y.ispage&&y.opt.boxzoom&&y.bind(window,"resize",y.resizeZoom),y.istextarea&&y.bind(y.win,"mouseup",y.lazyResize),y.checkrtlmode=!0,y.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var k=function(t){y.iframexd=!1;try{var o="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(i){y.iframexd=!0,o=!1}return y.iframexd?("console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0):(y.forcescreen=!0,y.isiframe&&(y.iframe={doc:e(o),html:y.doc.contents().find("html")[0],body:y.doc.contents().find("body")[0]},y.getContentSize=function(){return{w:Math.max(y.iframe.html.scrollWidth,y.iframe.body.scrollWidth),h:Math.max(y.iframe.html.scrollHeight,y.iframe.body.scrollHeight)}},y.docscroll=e(y.iframe.body)),!x.isios&&y.opt.iframeautoresize&&!y.isiframe&&(y.win.scrollTop(0),y.doc.height(""),t=Math.max(o.getElementsByTagName("html")[0].scrollHeight,o.body.scrollHeight),y.doc.height(t)),y.lazyResize(30),x.isie7&&y.css(e(y.iframe.html),{"overflow-y":"hidden"}),y.css(e(y.iframe.body),{"overflow-y":"hidden"}),"contentWindow"in this?y.bind(this.contentWindow,"scroll",y.onscroll):y.bind(o,"scroll",y.onscroll),y.opt.enablemousewheel&&y.bind(o,"mousewheel",y.onmousewheel),y.opt.enablekeyboard&&y.bind(o,x.isopera?"keypress":"keydown",y.onkeypress),(x.cantouch||y.opt.touchbehavior)&&(y.bind(o,"mousedown",y.onmousedown),y.bind(o,"mousemove",function(e){y.onmousemove(e,!0)}),y.opt.grabcursorenabled&&x.cursorgrabvalue&&y.css(e(o.body),{cursor:x.cursorgrabvalue})),y.bind(o,"mouseup",y.onmouseup),void(y.zoom&&(y.opt.dblclickzoom&&y.bind(o,"dblclick",y.doZoom),y.ongesturezoom&&y.bind(o,"gestureend",y.ongesturezoom))))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){k.call(y.doc[0],!1)},500),y.bind(this.doc,"load",k)}},this.showCursor=function(e,t){y.cursortimeout&&(clearTimeout(y.cursortimeout),y.cursortimeout=0),y.rail&&(y.autohidedom&&(y.autohidedom.stop().css({opacity:y.opt.cursoropacitymax}),y.cursoractive=!0),y.rail.drag&&1==y.rail.drag.pt||("undefined"!=typeof e&&!1!==e&&(y.scroll.y=Math.round(1*e/y.scrollratio.y)),"undefined"!=typeof t&&(y.scroll.x=Math.round(1*t/y.scrollratio.x))),y.cursor.css({height:y.cursorheight,top:y.scroll.y}),y.cursorh&&(!y.rail.align&&y.rail.visibility?y.cursorh.css({width:y.cursorwidth,left:y.scroll.x+y.rail.width}):y.cursorh.css({width:y.cursorwidth,left:y.scroll.x}),y.cursoractive=!0),y.zoom&&y.zoom.stop().css({opacity:y.opt.cursoropacitymax}))},this.hideCursor=function(e){!y.cursortimeout&&y.rail&&y.autohidedom&&(y.cursortimeout=setTimeout(function(){y.rail.active&&y.showonmouseevent||(y.autohidedom.stop().animate({opacity:y.opt.cursoropacitymin}),y.zoom&&y.zoom.stop().animate({opacity:y.opt.cursoropacitymin}),y.cursoractive=!1),y.cursortimeout=0},e||y.opt.hidecursordelay))},this.noticeCursor=function(e,t,o){y.showCursor(t,o),y.rail.active||y.hideCursor(e)},this.getContentSize=y.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:y.haswrapper?function(){return{w:y.doc.outerWidth()+parseInt(y.win.css("paddingLeft"))+parseInt(y.win.css("paddingRight")),h:y.doc.outerHeight()+parseInt(y.win.css("paddingTop"))+parseInt(y.win.css("paddingBottom"))}}:function(){return{w:y.docscroll[0].scrollWidth,h:y.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!y.win)return!1;if(!y.haswrapper&&!y.ispage){if("none"==y.win.css("display"))return y.visibility&&y.hideRail().hideRailHr(),!1;!y.hidden&&!y.visibility&&y.showRail().showRailHr()}var o=y.page.maxh,i=y.page.maxw,r=y.view.w;if(y.view={w:y.ispage?y.win.width():parseInt(y.win[0].clientWidth),h:y.ispage?y.win.height():parseInt(y.win[0].clientHeight)},y.page=t?t:y.getContentSize(),y.page.maxh=Math.max(0,y.page.h-y.view.h),y.page.maxw=Math.max(0,y.page.w-y.view.w),y.page.maxh==o&&y.page.maxw==i&&y.view.w==r){if(y.ispage)return y;if(o=y.win.offset(),y.lastposition&&(i=y.lastposition,i.top==o.top&&i.left==o.left))return y;y.lastposition=o}return 0==y.page.maxh?(y.hideRail(),y.scrollvaluemax=0,y.scroll.y=0,y.scrollratio.y=0,y.cursorheight=0,y.setScrollTop(0),y.rail.scrollable=!1):y.rail.scrollable=!0,0==y.page.maxw?(y.hideRailHr(),y.scrollvaluemaxw=0,y.scroll.x=0,y.scrollratio.x=0,y.cursorwidth=0,y.setScrollLeft(0),y.railh.scrollable=!1):y.railh.scrollable=!0,y.locked=0==y.page.maxh&&0==y.page.maxw,y.locked?(y.ispage||y.updateScrollBar(y.view),!1):(y.hidden||y.visibility?!y.hidden&&!y.railh.visibility&&y.showRailHr():y.showRail().showRailHr(),y.istextarea&&y.win.css("resize")&&"none"!=y.win.css("resize")&&(y.view.h-=20),y.cursorheight=Math.min(y.view.h,Math.round(y.view.h*(y.view.h/y.page.h))),y.cursorheight=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorheight),y.cursorwidth=Math.min(y.view.w,Math.round(y.view.w*(y.view.w/y.page.w))),y.cursorwidth=y.opt.cursorfixedheight?y.opt.cursorfixedheight:Math.max(y.opt.cursorminheight,y.cursorwidth),y.scrollvaluemax=y.view.h-y.cursorheight-y.cursor.hborder,y.railh&&(y.railh.width=0<y.page.maxh?y.view.w-y.rail.width:y.view.w,y.scrollvaluemaxw=y.railh.width-y.cursorwidth-y.cursorh.wborder),y.checkrtlmode&&y.railh&&(y.checkrtlmode=!1,y.opt.rtlmode&&0==y.scroll.x&&y.setScrollLeft(y.page.maxw)),y.ispage||y.updateScrollBar(y.view),y.scrollratio={x:y.page.maxw/y.scrollvaluemaxw,y:y.page.maxh/y.scrollvaluemax},y.getScrollTop()>y.page.maxh?y.doScrollTop(y.page.maxh):(y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x)),y.cursoractive&&y.noticeCursor()),y.scroll.y&&0==y.getScrollTop()&&y.doScrollTo(Math.floor(y.scroll.y*y.scrollratio.y)),y)},this.resize=y.onResize,this.lazyResize=function(e){return e=isNaN(e)?30:e,y.delayed("resize",y.resize,e),y},this._bind=function(e,t,o,i){y.events.push({e:e,n:t,f:o,b:i,q:!1}),e.addEventListener?e.addEventListener(t,o,i||!1):e.attachEvent?e.attachEvent("on"+t,o):e["on"+t]=o},this.jqbind=function(t,o,i){y.events.push({e:t,n:o,f:i,q:!0}),e(t).bind(o,i)},this.bind=function(e,t,o,i){var r="jquery"in e?e[0]:e;"mousewheel"==t?"onwheel"in y.win?y._bind(r,"wheel",o,i||!1):(e="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",w(r,e,o,i||!1),"DOMMouseScroll"==e&&w(r,"MozMousePixelScroll",o,i||!1)):r.addEventListener?(x.cantouch&&/mouseup|mousedown|mousemove/.test(t)&&y._bind(r,"mousedown"==t?"touchstart":"mouseup"==t?"touchend":"touchmove",function(e){if(e.touches){if(2>e.touches.length){var t=e.touches.length?e.touches[0]:e;t.original=e,o.call(this,t)}}else e.changedTouches&&(t=e.changedTouches[0],t.original=e,o.call(this,t))},i||!1),y._bind(r,t,o,i||!1),x.cantouch&&"mouseup"==t&&y._bind(r,"touchcancel",o,i||!1)):y._bind(r,t,function(e){return(e=e||window.event||!1)&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),!1===o.call(r,e)||!1===i?y.cancelEvent(e):!0})},this._unbind=function(e,t,o,i){e.removeEventListener?e.removeEventListener(t,o,i):e.detachEvent?e.detachEvent("on"+t,o):e["on"+t]=!1},this.unbindAll=function(){for(var e=0;e<y.events.length;e++){var t=y.events[e];t.q?t.e.unbind(t.n,t.f):y._unbind(t.e,t.n,t.f,t.b)}},this.cancelEvent=function(e){return(e=e.original?e.original:e?e:window.event||!1)?(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1):!1},this.stopPropagation=function(e){return(e=e.original?e.original:e?e:window.event||!1)?e.stopPropagation?e.stopPropagation():(e.cancelBubble&&(e.cancelBubble=!0),!1):!1},this.showRail=function(){return 0==y.page.maxh||!y.ispage&&"none"==y.win.css("display")||(y.visibility=!0,y.rail.visibility=!0,y.rail.css("display","block")),y},this.showRailHr=function(){return y.railh?(0==y.page.maxw||!y.ispage&&"none"==y.win.css("display")||(y.railh.visibility=!0,y.railh.css("display","block")),y):y},this.hideRail=function(){return y.visibility=!1,y.rail.visibility=!1,y.rail.css("display","none"),y},this.hideRailHr=function(){return y.railh?(y.railh.visibility=!1,y.railh.css("display","none"),y):y},this.show=function(){return y.hidden=!1,y.locked=!1,y.showRail().showRailHr()},this.hide=function(){return y.hidden=!0,y.locked=!0,y.hideRail().hideRailHr()},this.toggle=function(){return y.hidden?y.show():y.hide()},this.remove=function(){y.stop(),y.cursortimeout&&clearTimeout(y.cursortimeout),y.doZoomOut(),y.unbindAll(),!1!==y.observer&&y.observer.disconnect(),!1!==y.observerremover&&y.observerremover.disconnect(),y.events=[],y.cursor&&(y.cursor.remove(),y.cursor=null),y.cursorh&&(y.cursorh.remove(),y.cursorh=null),y.rail&&(y.rail.remove(),y.rail=null),y.railh&&(y.railh.remove(),y.railh=null),y.zoom&&(y.zoom.remove(),y.zoom=null);for(var e=0;e<y.saved.css.length;e++){var t=y.saved.css[e];t[0].css(t[1],"undefined"==typeof t[2]?"":t[2])}return y.saved=!1,y.me.data("__nicescroll",""),y.me=null,y.doc=null,y.docscroll=null,y.win=null,y},this.scrollstart=function(e){return this.onscrollstart=e,y},this.scrollend=function(e){return this.onscrollend=e,y},this.scrollcancel=function(e){return this.onscrollcancel=e,y},this.zoomin=function(e){return this.onzoomin=e,y},this.zoomout=function(e){return this.onzoomout=e,y},this.isScrollable=function(t){if(t=t.target?t.target:t,"OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&!/BODY|HTML/.test(t.nodeName);){var o=e(t),o=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(o))return t.clientHeight!=t.scrollHeight;t=t.parentNode?t.parentNode:!1}return!1},this.getViewport=function(t){for(t=t&&t.parentNode?t.parentNode:!1;t&&1==t.nodeType&&!/BODY|HTML/.test(t.nodeName);){var o=e(t),i=o.css("overflowY")||o.css("overflowX")||o.css("overflow")||"";if(/scroll|auto/.test(i)&&t.clientHeight!=t.scrollHeight||0<o.getNiceScroll().length)return o;t=t.parentNode?t.parentNode:!1}return!1},this.onmousewheel=function(e){if(y.locked)return!0;if(y.rail.drag)return y.cancelEvent(e);if(!y.rail.scrollable)return y.railh&&y.railh.scrollable?y.onmousewheelhr(e):!0;var t=+new Date,o=!1;return y.opt.preservenativescrolling&&y.checkarea+600<t&&(y.nativescrollingarea=y.isScrollable(e),o=!0),y.checkarea=t,y.nativescrollingarea?!0:((e=v(e,!1,o))&&(y.checkarea=0),e)},this.onmousewheelhr=function(e){if(y.locked||!y.railh.scrollable)return!0;if(y.rail.drag)return y.cancelEvent(e);var t=+new Date,o=!1;return y.opt.preservenativescrolling&&y.checkarea+600<t&&(y.nativescrollingarea=y.isScrollable(e),o=!0),y.checkarea=t,y.nativescrollingarea?!0:y.locked?y.cancelEvent(e):v(e,!0,o)},this.stop=function(){return y.cancelScroll(),y.scrollmon&&y.scrollmon.stop(),y.cursorfreezed=!1,y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.noticeCursor(),y},this.getTransitionSpeed=function(e){var t=Math.round(10*y.opt.scrollspeed);return e=Math.min(t,Math.round(e/20*y.opt.scrollspeed)),e>20?e:0},y.opt.smoothscroll?y.ishwscroll&&x.hastransition&&y.opt.usetransition?(this.prepareTransition=function(e,t){var o=t?e>20?e:0:y.getTransitionSpeed(e),i=o?x.prefixstyle+"transform "+o+"ms ease-out":"";return y.lasttransitionstyle&&y.lasttransitionstyle==i||(y.lasttransitionstyle=i,y.doc.css(x.transitionstyle,i)),o},this.doScrollLeft=function(e,t){var o=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){var i=y.getScrollTop(),r=y.getScrollLeft();return(0>(y.newscrolly-i)*(t-i)||0>(y.newscrollx-r)*(e-r))&&y.cancelScroll(),0==y.opt.bouncescroll&&(0>t?t=0:t>y.page.maxh&&(t=y.page.maxh),0>e?e=0:e>y.page.maxw&&(e=y.page.maxw)),y.scrollrunning&&e==y.newscrollx&&t==y.newscrolly?!1:(y.newscrolly=t,y.newscrollx=e,y.newscrollspeed=o||!1,y.timer?!1:void(y.timer=setTimeout(function(){var o=y.getScrollTop(),i=y.getScrollLeft(),r,n;r=e-i,n=t-o,r=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(n,2))),r=y.newscrollspeed&&1<y.newscrollspeed?y.newscrollspeed:y.getTransitionSpeed(r),y.newscrollspeed&&1>=y.newscrollspeed&&(r*=y.newscrollspeed),y.prepareTransition(r,!0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),r>0&&(!y.scrollrunning&&y.onscrollstart&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:i,y:o},request:{x:e,y:t},end:{x:y.newscrollx,y:y.newscrolly},speed:r}),x.transitionend?y.scrollendtrapped||(y.scrollendtrapped=!0,y.bind(y.doc,x.transitionend,y.onScrollEnd,!1)):(y.scrollendtrapped&&clearTimeout(y.scrollendtrapped),y.scrollendtrapped=setTimeout(y.onScrollEnd,r)),y.timerscroll={bz:new BezierClass(o,y.newscrolly,r,0,0,.58,1),bh:new BezierClass(i,y.newscrollx,r,0,0,.58,1)},y.cursorfreezed||(y.timerscroll.tm=setInterval(function(){y.showCursor(y.getScrollTop(),y.getScrollLeft())},60))),y.synched("doScroll-set",function(){y.timer=0,y.scrollendtrapped&&(y.scrollrunning=!0),y.setScrollTop(y.newscrolly),y.setScrollLeft(y.newscrollx),y.scrollendtrapped||y.onScrollEnd()})},50)))},this.cancelScroll=function(){if(!y.scrollendtrapped)return!0;var e=y.getScrollTop(),t=y.getScrollLeft();return y.scrollrunning=!1,x.transitionend||clearTimeout(x.transitionend),y.scrollendtrapped=!1,y._unbind(y.doc,x.transitionend,y.onScrollEnd),y.prepareTransition(0),y.setScrollTop(e),y.railh&&y.setScrollLeft(t),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1,y.cursorfreezed=!1,y.showCursor(e,t),y},this.onScrollEnd=function(){y.scrollendtrapped&&y._unbind(y.doc,x.transitionend,y.onScrollEnd),y.scrollendtrapped=!1,y.prepareTransition(0),y.timerscroll&&y.timerscroll.tm&&clearInterval(y.timerscroll.tm),y.timerscroll=!1;var e=y.getScrollTop(),t=y.getScrollLeft();return y.setScrollTop(e),y.railh&&y.setScrollLeft(t),y.noticeCursor(!1,e,t),y.cursorfreezed=!1,0>e?e=0:e>y.page.maxh&&(e=y.page.maxh),0>t?t=0:t>y.page.maxw&&(t=y.page.maxw),e!=y.newscrolly||t!=y.newscrollx?y.doScrollPos(t,e,y.opt.snapbackspeed):(y.onscrollend&&y.scrollrunning&&y.onscrollend.call(y,{type:"scrollend",current:{x:t,y:e},end:{x:y.newscrollx,y:y.newscrolly}}),void(y.scrollrunning=!1))}):(this.doScrollLeft=function(e,t){var o=y.scrollrunning?y.newscrolly:y.getScrollTop();y.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=y.scrollrunning?y.newscrollx:y.getScrollLeft();y.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){function i(){if(y.cancelAnimationFrame)return!0;if(y.scrollrunning=!0,d=1-d)return y.timer=l(i)||1;var e=0,t=sy=y.getScrollTop();if(y.dst.ay){var t=y.bzscroll?y.dst.py+y.bzscroll.getNow()*y.dst.ay:y.newscrolly,o=t-sy;(0>o&&t<y.newscrolly||o>0&&t>y.newscrolly)&&(t=y.newscrolly),y.setScrollTop(t),t==y.newscrolly&&(e=1)}else e=1;var r=sx=y.getScrollLeft();y.dst.ax?(r=y.bzscroll?y.dst.px+y.bzscroll.getNow()*y.dst.ax:y.newscrollx,o=r-sx,(0>o&&r<y.newscrollx||o>0&&r>y.newscrollx)&&(r=y.newscrollx),y.setScrollLeft(r),r==y.newscrollx&&(e+=1)):e+=1,2==e?(y.timer=0,y.cursorfreezed=!1,y.bzscroll=!1,y.scrollrunning=!1,0>t?t=0:t>y.page.maxh&&(t=y.page.maxh),0>r?r=0:r>y.page.maxw&&(r=y.page.maxw),r!=y.newscrollx||t!=y.newscrolly?y.doScrollPos(r,t):y.onscrollend&&y.onscrollend.call(y,{type:"scrollend",current:{x:sx,y:sy},end:{x:y.newscrollx,y:y.newscrolly}})):y.timer=l(i)||1}if(t="undefined"==typeof t||!1===t?y.getScrollTop(!0):t,y.timer&&y.newscrolly==t&&y.newscrollx==e)return!0;y.timer&&c(y.timer),y.timer=0;var r=y.getScrollTop(),n=y.getScrollLeft();(0>(y.newscrolly-r)*(t-r)||0>(y.newscrollx-n)*(e-n))&&y.cancelScroll(),y.newscrolly=t,y.newscrollx=e,y.bouncescroll&&y.rail.visibility||(0>y.newscrolly?y.newscrolly=0:y.newscrolly>y.page.maxh&&(y.newscrolly=y.page.maxh)),y.bouncescroll&&y.railh.visibility||(0>y.newscrollx?y.newscrollx=0:y.newscrollx>y.page.maxw&&(y.newscrollx=y.page.maxw)),y.dst={},y.dst.x=e-n,y.dst.y=t-r,y.dst.px=n,y.dst.py=r;var s=Math.round(Math.sqrt(Math.pow(y.dst.x,2)+Math.pow(y.dst.y,2)));y.dst.ax=y.dst.x/s,y.dst.ay=y.dst.y/s;var a=0,u=s;if(0==y.dst.x?(a=r,u=t,y.dst.ay=1,y.dst.py=0):0==y.dst.y&&(a=n,u=e,y.dst.ax=1,y.dst.px=0),s=y.getTransitionSpeed(s),o&&1>=o&&(s*=o),y.bzscroll=s>0?y.bzscroll?y.bzscroll.update(u,s):new BezierClass(a,u,s,0,1,0,1):!1,!y.timer){(r==y.page.maxh&&t>=y.page.maxh||n==y.page.maxw&&e>=y.page.maxw)&&y.checkContentSize();var d=1;y.cancelAnimationFrame=!1,y.timer=1,y.onscrollstart&&!y.scrollrunning&&y.onscrollstart.call(y,{type:"scrollstart",current:{x:n,y:r},request:{x:e,y:t},end:{x:y.newscrollx,y:y.newscrolly},speed:s}),i(),(r==y.page.maxh&&t>=r||n==y.page.maxw&&e>=n)&&y.checkContentSize(),y.noticeCursor()}},this.cancelScroll=function(){return y.timer&&c(y.timer),y.timer=0,y.bzscroll=!1,y.scrollrunning=!1,y}):(this.doScrollLeft=function(e,t){var o=y.getScrollTop();y.doScrollPos(e,o,t)},this.doScrollTop=function(e,t){var o=y.getScrollLeft();y.doScrollPos(o,e,t)},this.doScrollPos=function(e,t,o){var i=e>y.page.maxw?y.page.maxw:e;0>i&&(i=0);var r=t>y.page.maxh?y.page.maxh:t;0>r&&(r=0),y.synched("scroll",function(){y.setScrollTop(r),y.setScrollLeft(i)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,t){var o=0,o=t?Math.floor((y.scroll.y-e)*y.scrollratio.y):(y.timer?y.newscrolly:y.getScrollTop(!0))-e;if(y.bouncescroll){var i=Math.round(y.view.h/2);-i>o?o=-i:o>y.page.maxh+i&&(o=y.page.maxh+i)}return y.cursorfreezed=!1,py=y.getScrollTop(!0),0>o&&0>=py?y.noticeCursor():o>y.page.maxh&&py>=y.page.maxh?(y.checkContentSize(),y.noticeCursor()):void y.doScrollTop(o)},this.doScrollLeftBy=function(e,t){var o=0,o=t?Math.floor((y.scroll.x-e)*y.scrollratio.x):(y.timer?y.newscrollx:y.getScrollLeft(!0))-e;if(y.bouncescroll){var i=Math.round(y.view.w/2);-i>o?o=-i:o>y.page.maxw+i&&(o=y.page.maxw+i)}return y.cursorfreezed=!1,px=y.getScrollLeft(!0),0>o&&0>=px||o>y.page.maxw&&px>=y.page.maxw?y.noticeCursor():void y.doScrollLeft(o)},this.doScrollTo=function(e,t){t&&Math.round(e*y.scrollratio.y),y.cursorfreezed=!1,y.doScrollTop(e)},this.checkContentSize=function(){var e=y.getContentSize();(e.h!=y.page.h||e.w!=y.page.w)&&y.resize(!1,e)},y.onscroll=function(e){y.rail.drag||y.cursorfreezed||y.synched("scroll",function(){y.scroll.y=Math.round(y.getScrollTop()*(1/y.scrollratio.y)),y.railh&&(y.scroll.x=Math.round(y.getScrollLeft()*(1/y.scrollratio.x))),y.noticeCursor()})},y.bind(y.docscroll,"scroll",y.onscroll),this.doZoomIn=function(t){if(!y.zoomactive){y.zoomactive=!0,y.zoomrestore={style:{}};var o="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),i=y.win[0].style,r;for(r in o){var s=o[r];y.zoomrestore.style[s]="undefined"!=typeof i[s]?i[s]:""}return y.zoomrestore.style.width=y.win.css("width"),y.zoomrestore.style.height=y.win.css("height"),y.zoomrestore.padding={w:y.win.outerWidth()-y.win.width(),h:y.win.outerHeight()-y.win.height()},x.isios4&&(y.zoomrestore.scrollTop=e(window).scrollTop(),e(window).scrollTop(0)),y.win.css({position:x.isios4?"absolute":"fixed",top:0,left:0,"z-index":n+100,margin:"0px"}),o=y.win.css("backgroundColor"),(""==o||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(o))&&y.win.css("backgroundColor","#fff"),y.rail.css({"z-index":n+101}),y.zoom.css({"z-index":n+102}),y.zoom.css("backgroundPosition","0px -18px"),y.resizeZoom(),y.onzoomin&&y.onzoomin.call(y),y.cancelEvent(t)}},this.doZoomOut=function(t){return y.zoomactive?(y.zoomactive=!1,y.win.css("margin",""),y.win.css(y.zoomrestore.style),x.isios4&&e(window).scrollTop(y.zoomrestore.scrollTop),y.rail.css({"z-index":y.zindex}),y.zoom.css({"z-index":y.zindex}),y.zoomrestore=!1,y.zoom.css("backgroundPosition","0px 0px"),y.onResize(),y.onzoomout&&y.onzoomout.call(y),y.cancelEvent(t)):void 0},this.doZoom=function(e){return y.zoomactive?y.doZoomOut(e):y.doZoomIn(e)},this.resizeZoom=function(){if(y.zoomactive){var t=y.getScrollTop();y.win.css({width:e(window).width()-y.zoomrestore.padding.w+"px",height:e(window).height()-y.zoomrestore.padding.h+"px"}),y.onResize(),y.setScrollTop(Math.min(y.page.maxh,t))}},this.init(),e.nicescroll.push(this)},f=function(e){var t=this;this.nc=e,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(e,o){t.stop();var i=t.time();t.steptime=0,t.lasttime=i,t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=o,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,o){var i=t.time();t.steptime=i-t.lasttime,t.lasttime=i;var i=o-t.lasty,r=e-t.lastx,n=t.nc.getScrollTop(),s=t.nc.getScrollLeft(),n=n+i,s=s+r;t.snapx=0>s||s>t.nc.page.maxw,t.snapy=0>n||n>t.nc.page.maxh,t.speedx=r,t.speedy=i,t.lastx=e,t.lasty=o},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,o){var i=!1;0>o?(o=0,i=!0):o>t.nc.page.maxh&&(o=t.nc.page.maxh,i=!0),0>e?(e=0,i=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,i=!0),i&&t.nc.doScrollPos(e,o,t.nc.opt.snapbackspeed)},this.doMomentum=function(e){var o=t.time(),i=e?o+e:t.lasttime;e=t.nc.getScrollLeft();var r=t.nc.getScrollTop(),n=t.nc.page.maxh,s=t.nc.page.maxw;if(t.speedx=s>0?Math.min(60,t.speedx):0,t.speedy=n>0?Math.min(60,t.speedy):0,i=i&&50>=o-i,(0>r||r>n||0>e||e>s)&&(i=!1),e=t.speedx&&i?t.speedx:!1,t.speedy&&i&&t.speedy||e){var l=Math.max(16,t.steptime);l>50&&(e=l/50,t.speedx*=e,t.speedy*=e,l=50),t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var a=t.lastscrollx,c=t.lastscrolly,u=function(){var e=600<t.time()-o?.04:.02;t.speedx&&(a=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=a,0>a||a>s)&&(e=.1),t.speedy&&(c=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=c,0>c||c>n)&&(e=.1),t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",function(){t.speedx&&(t.nc.getScrollLeft()!=t.chkx&&t.stop(),t.chkx=a,t.nc.setScrollLeft(a)),t.speedy&&(t.nc.getScrollTop()!=t.chky&&t.stop(),t.chky=c,t.nc.setScrollTop(c)),t.timer||(t.nc.hideCursor(),t.doSnapy(a,c))}),1>t.demulxy?t.timer=setTimeout(u,l):(t.stop(),t.nc.hideCursor(),t.doSnapy(a,c))};u()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},g=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(t,o,i){return(o=e.data(t,"__nicescroll")||!1)&&o.ishwscroll?o.getScrollTop():g.call(t)},set:function(t,o){var i=e.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(o)):g.call(t,o),this}},e.fn.scrollTop=function(t){if("undefined"==typeof t){var o=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return o&&o.ishwscroll?o.getScrollTop():g.call(this)}return this.each(function(){var o=e.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollTop(parseInt(t)):g.call(e(this),t)})};var w=e.fn.scrollLeft;e.cssHooks.pageXOffset={get:function(t,o,i){return(o=e.data(t,"__nicescroll")||!1)&&o.ishwscroll?o.getScrollLeft():w.call(t)},set:function(t,o){var i=e.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(o)):w.call(t,o),this}},e.fn.scrollLeft=function(t){if("undefined"==typeof t){var o=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return o&&o.ishwscroll?o.getScrollLeft():w.call(this)}return this.each(function(){var o=e.data(this,"__nicescroll")||!1;o&&o.ishwscroll?o.setScrollLeft(parseInt(t)):w.call(e(this),t)})};var v=function(t){var o=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){for(var t=0;t<o.length;t++)e.call(o[t]);return o},this.push=function(e){o[o.length]=e,o.length++},this.eq=function(e){return o[e]},t)for(a=0;a<t.length;a++){var i=e.data(t[a],"__nicescroll")||!1;i&&(this[this.length]=i,this.length++)}return this};!function(e,t,o){for(var i=0;i<t.length;i++)o(e,t[i])}(v.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}),e.fn.getNiceScroll=function(t){return"undefined"==typeof t?new v(this):e.data(this[t],"__nicescroll")||!1},e.extend(e.expr[":"],{nicescroll:function(t){return e.data(t,"__nicescroll")?!0:!1}}),e.fn.niceScroll=function(t,o){"undefined"==typeof o&&"object"==typeof t&&!("jquery"in t)&&(o=t,t=!1);var i=new v;"undefined"==typeof o&&(o={}),t&&(o.doc=e(t),o.win=e(this));var r=!("doc"in o);return!r&&!("win"in o)&&(o.win=e(this)),this.each(function(){var t=e(this).data("__nicescroll")||!1;t||(o.doc=r?e(this):o.doc,t=new m(o,e(this)),e(this).data("__nicescroll",t)),i.push(t)}),1==i.length?i[0]:i},window.NiceScroll={getjQuery:function(){return e}},e.nicescroll||(e.nicescroll=new v,e.nicescroll.options=d)}(jQuery),function(e){"use strict";var t=function(e,o,i){return 1===arguments.length?t.get(e):t.set(e,o,i)};t._document=document,t._navigator=navigator,t.defaults={path:"/"},t.get=function(e){return t._cachedDocumentCookie!==t._document.cookie&&t._renewCache(),t._cache[e]},t.set=function(o,i,r){return r=t._getExtendedOptions(r),r.expires=t._getExpiresDate(i===e?-1:r.expires),t._document.cookie=t._generateCookieString(o,i,r),t},t.expire=function(o,i){return t.set(o,e,i)},t._getExtendedOptions=function(o){return{path:o&&o.path||t.defaults.path,domain:o&&o.domain||t.defaults.domain,expires:o&&o.expires||t.defaults.expires,secure:o&&o.secure!==e?o.secure:t.defaults.secure}},t._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t._getExpiresDate=function(e,o){switch(o=o||new Date,typeof e){case"number":e=new Date(o.getTime()+1e3*e);break;case"string":e=new Date(e)}if(e&&!t._isValidDate(e))throw Error("`expires` parameter cannot be converted to a valid Date instance");return e},t._generateCookieString=function(e,t,o){return e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent),e=e.replace(/\(/g,"%28").replace(/\)/g,"%29"),t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),o=o||{},e=e+"="+t+(o.path?";path="+o.path:""),e+=o.domain?";domain="+o.domain:"",e+=o.expires?";expires="+o.expires.toUTCString():"",e+=o.secure?";secure":""},t._getCookieObjectFromString=function(o){var i={};o=o?o.split("; "):[];for(var r=0;r<o.length;r++){var n=t._getKeyValuePairFromCookieString(o[r]);i[n.key]===e&&(i[n.key]=n.value)}return i},t._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("="),t=0>t?e.length:t;return{key:decodeURIComponent(e.substr(0,t)),value:decodeURIComponent(e.substr(t+1))}},t._renewCache=function(){t._cache=t._getCookieObjectFromString(t._document.cookie),t._cachedDocumentCookie=t._document.cookie},t._areEnabled=function(){var e="1"===t.set("cookies.js",1).get("cookies.js");return t.expire("cookies.js"),e},t.enabled=t._areEnabled(),"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.Cookies=t):window.Cookies=t}(),/*!
 * EventEmitter v4.2.6 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
function(){function e(){}function t(e,t){for(var o=e.length;o--;)if(e[o].listener===t)return o;return-1}function o(e){return function t(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,n=r.EventEmitter;i.getListeners=function s(e){var t=this._getEvents(),o,i;if("object"==typeof e){o={};for(i in t)t.hasOwnProperty(i)&&e.test(i)&&(o[i]=t[i])}else o=t[e]||(t[e]=[]);return o},i.flattenListeners=function l(e){var t=[],o;for(o=0;o<e.length;o+=1)t.push(e[o].listener);return t},i.getListenersAsObject=function a(e){var t=this.getListeners(e),o;return t instanceof Array&&(o={},o[e]=t),o||t},i.addListener=function c(e,o){var i=this.getListenersAsObject(e),r="object"==typeof o,n;for(n in i)i.hasOwnProperty(n)&&-1===t(i[n],o)&&i[n].push(r?o:{listener:o,once:!1});return this},i.on=o("addListener"),i.addOnceListener=function u(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=o("addOnceListener"),i.defineEvent=function d(e){return this.getListeners(e),this},i.defineEvents=function h(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function p(e,o){var i=this.getListenersAsObject(e),r,n;for(n in i)i.hasOwnProperty(n)&&(r=t(i[n],o),-1!==r&&i[n].splice(r,1));return this},i.off=o("removeListener"),i.addListeners=function m(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function f(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function g(e,t,o){var i,r,n=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=o.length;i--;)n.call(this,t,o[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?n.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function w(e){var t=typeof e,o=this._getEvents(),i;if("string"===t)delete o[e];else if("object"===t)for(i in o)o.hasOwnProperty(i)&&e.test(i)&&delete o[i];else delete this._events;return this},i.removeAllListeners=o("removeEvent"),i.emitEvent=function v(e,t){var o=this.getListenersAsObject(e),i,r,n,s;for(n in o)if(o.hasOwnProperty(n))for(r=o[n].length;r--;)i=o[n][r],i.once===!0&&this.removeListener(e,i.listener),s=i.listener.apply(this,t||[]),s===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},i.trigger=o("emitEvent"),i.emit=function y(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function b(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function x(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function k(){return this._events||(this._events={})},e.noConflict=function S(){return r.EventEmitter=n,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function t(t){var o=e.event;return o.target=o.target||o.srcElement||t,o}var o=document.documentElement,i=function(){};o.addEventListener?i=function(e,t,o){e.addEventListener(t,o,!1)}:o.attachEvent&&(i=function(e,o,i){e[o+i]=i.handleEvent?function(){var o=t(e);i.handleEvent.call(i,o)}:function(){var o=t(e);i.call(e,o)},e.attachEvent("on"+o,e[o+i])});var r=function(){};o.removeEventListener?r=function(e,t,o){e.removeEventListener(t,o,!1)}:o.detachEvent&&(r=function(e,t,o){e.detachEvent("on"+t,e[t+o]);try{delete e[t+o]}catch(i){e[t+o]=void 0}});var n={bind:i,unbind:r};"function"==typeof define&&define.amd?define("eventie/eventie",n):e.eventie=n}(this),function(e,t){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(o,i){return t(e,o,i)}):"object"==typeof exports?module.exports=t(e,require("eventEmitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(this,function e(t,o,i){function r(e,t){for(var o in t)e[o]=t[o];return e}function n(e){return"[object Array]"===h.call(e)}function s(e){var t=[];if(n(e))t=e;else if("undefined"!=typeof e&&"number"==typeof e.length)for(var o=0,i=e.length;i>o;o++)t.push(e[o]);else t.push(e);return t}function l(e,t,o){if(!(this instanceof l))return new l(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=s(e),this.options=r({},this.options),"function"==typeof t?o=t:r(this.options,t),o&&this.on("always",o),this.getImages(),$&&(this.jqDeferred=new $.Deferred);var i=this;setTimeout(function(){i.check()})}function a(e){this.img=e}function c(e){this.src=e,p[e]=this}var $=t.jQuery,u=t.console,d="undefined"!=typeof u,h=Object.prototype.toString;l.prototype=new o,l.prototype.options={},l.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var o=this.elements[e];"IMG"===o.nodeName&&this.addImage(o);var i=o.nodeType;if(i&&(1===i||9===i||11===i))for(var r=o.querySelectorAll("img"),n=0,s=r.length;s>n;n++){var l=r[n];this.addImage(l)}}},l.prototype.addImage=function(e){var t=new a(e);this.images.push(t)},l.prototype.check=function(){function e(e,r){return t.options.debug&&d&&u.log("confirm",e,r),t.progress(e),o++,o===i&&t.complete(),!0}var t=this,o=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var r=0;i>r;r++){var n=this.images[r];n.on("confirm",e),n.check()}},l.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},l.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var o=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[o](t)}})},$&&($.fn.imagesLoaded=function(e,t){var o=new l(this,e,t);return o.jqDeferred.promise($(this))}),a.prototype=new o,a.prototype.check=function(){var e=p[this.img.src]||new c(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,o){return t.confirm(e.isLoaded,o),!0}),e.check()},a.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var p={};return c.prototype=new o,c.prototype.check=function(){if(!this.isChecked){var e=new Image;i.bind(e,"load",this),i.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},c.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},c.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},c.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},c.prototype.unbindProxyEvents=function(e){i.unbind(e.target,"load",this),i.unbind(e.target,"error",this)},l}),function(e){"use strict";function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function o(e,t){var o=i(e,t)?n:r;o(e,t)}var i,r,n;"classList"in document.documentElement?(i=function(e,t){return e.classList.contains(t)},r=function(e,t){e.classList.add(t)},n=function(e,t){e.classList.remove(t)}):(i=function(e,o){return t(o).test(e.className)},r=function(e,t){i(e,t)||(e.className=e.className+" "+t)},n=function(e,o){e.className=e.className.replace(t(o)," ")});var s={hasClass:i,addClass:r,removeClass:n,toggleClass:o,has:i,add:r,remove:n,toggle:o};"function"==typeof define&&define.amd?define(s):e.classie=s}(window),function($){$.fn.equalHeights=function(){var e=0,t=$(this);return t.each(function(){var t=$(this).innerHeight();t>e&&(e=t)}),t.css("min-height",e)},$("[data-equal]").each(function(){var e=$(this),t=e.data("equal");e.find(t).equalHeights(),imagesLoaded(e.find(t),function(){e.find(t).css("min-height","").equalHeights()})}),$(window).on("lab.resize",function(e){$("[data-equal]").each(function(){var e=$(this),t=e.data("equal");e.find(t).css("min-height","").equalHeights()})})}(jQuery),function(){var e,t,o=function(e,t){return function(){return e.apply(t,arguments)}};e=function(){function e(){}return e.prototype.extend=function(e,t){var o,i;for(o in e)i=e[o],null!=i&&(t[o]=i);return t},e.prototype.isMobile=function(e){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)},e}(),t=this.WeakMap||(t=function(){function e(){this.keys=[],this.values=[]}return e.prototype.get=function(e){var t,o,i,r,n;for(n=this.keys,t=i=0,r=n.length;r>i;t=++i)if(o=n[t],o===e)return this.values[t]},e.prototype.set=function(e,t){var o,i,r,n,s;for(s=this.keys,o=r=0,n=s.length;n>r;o=++r)if(i=s[o],i===e)return void(this.values[o]=t);return this.keys.push(e),this.values.push(t)},e}()),this.WOW=function(){function i(e){null==e&&(e={}),this.scrollCallback=o(this.scrollCallback,this),this.scrollHandler=o(this.scrollHandler,this),this.start=o(this.start,this),this.scrolled=!0,this.config=this.util().extend(e,this.defaults),this.animationNameCache=new t}return i.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0},i.prototype.init=function(){var e;return this.element=window.document.documentElement,"interactive"===(e=document.readyState)||"complete"===e?this.start():document.addEventListener("DOMContentLoaded",this.start)},i.prototype.start=function(){var e,t,o,i;if(this.boxes=this.element.getElementsByClassName(this.config.boxClass),this.boxes.length){if(this.disabled())return this.resetStyle();for(i=this.boxes,t=0,o=i.length;o>t;t++)e=i[t],this.applyStyle(e,!0);return window.addEventListener("scroll",this.scrollHandler,!1),window.addEventListener("resize",this.scrollHandler,!1),this.interval=setInterval(this.scrollCallback,50)}},i.prototype.stop=function(){return window.removeEventListener("scroll",this.scrollHandler,!1),window.removeEventListener("resize",this.scrollHandler,!1),null!=this.interval?clearInterval(this.interval):void 0},i.prototype.show=function(e){return this.applyStyle(e),e.className=""+e.className+" "+this.config.animateClass},i.prototype.applyStyle=function(e,t){var o,i,r;return i=e.getAttribute("data-wow-duration"),o=e.getAttribute("data-wow-delay"),r=e.getAttribute("data-wow-iteration"),this.animate(function(n){return function(){return n.customStyle(e,t,i,o,r)}}(this))},i.prototype.animate=function(){return"requestAnimationFrame"in window?function(e){return window.requestAnimationFrame(e)}:function(e){return e()}}(),i.prototype.resetStyle=function(){var e,t,o,i,r;for(i=this.boxes,r=[],t=0,o=i.length;o>t;t++)e=i[t],r.push(e.setAttribute("style","visibility: visible;"));return r},i.prototype.customStyle=function(e,t,o,i,r){return t&&this.cacheAnimationName(e),e.style.visibility=t?"hidden":"visible",o&&this.vendorSet(e.style,{animationDuration:o}),i&&this.vendorSet(e.style,{animationDelay:i}),r&&this.vendorSet(e.style,{animationIterationCount:r}),this.vendorSet(e.style,{animationName:t?"none":this.cachedAnimationName(e)}),e},i.prototype.vendors=["moz","webkit"],i.prototype.vendorSet=function(e,t){var o,i,r,n;n=[];for(o in t)i=t[o],e[""+o]=i,n.push(function(){var t,n,s,l;for(s=this.vendors,l=[],t=0,n=s.length;n>t;t++)r=s[t],l.push(e[""+r+o.charAt(0).toUpperCase()+o.substr(1)]=i);return l}.call(this));return n},i.prototype.vendorCSS=function(e,t){var o,i,r,n,s,l;for(i=window.getComputedStyle(e),o=i.getPropertyCSSValue(t),l=this.vendors,n=0,s=l.length;s>n;n++)r=l[n],o=o||i.getPropertyCSSValue("-"+r+"-"+t);return o},i.prototype.animationName=function(e){var t;try{t=this.vendorCSS(e,"animation-name").cssText}catch(o){t=window.getComputedStyle(e).getPropertyValue("animation-name")}return"none"===t?"":t},i.prototype.cacheAnimationName=function(e){return this.animationNameCache.set(e,this.animationName(e))},i.prototype.cachedAnimationName=function(e){return this.animationNameCache.get(e)},i.prototype.scrollHandler=function(){return this.scrolled=!0},i.prototype.scrollCallback=function(){var e;return this.scrolled&&(this.scrolled=!1,this.boxes=function(){var t,o,i,r;for(i=this.boxes,r=[],t=0,o=i.length;o>t;t++)e=i[t],e&&(this.isVisible(e)?this.show(e):r.push(e));return r}.call(this),!this.boxes.length)?this.stop():void 0},i.prototype.offsetTop=function(e){for(var t;void 0===e.offsetTop;)e=e.parentNode;for(t=e.offsetTop;e=e.offsetParent;)t+=e.offsetTop;return t},i.prototype.isVisible=function(e){var t,o,i,r,n;return o=e.getAttribute("data-wow-offset")||this.config.offset,n=window.pageYOffset,r=n+this.element.clientHeight-o,i=this.offsetTop(e),t=i+e.clientHeight,r>=i&&t>=n},i.prototype.util=function(){return this._util||(this._util=new e)},i.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},i}()}.call(this),function(e){if("undefined"!=typeof define&&define.amd)define(["jquery"],e);else if("undefined"!=typeof module&&module.exports){var $=require("jquery");module.exports=e($)}else window.scrollMonitor=e(jQuery)}(function($){function e(){return window.innerHeight||document.documentElement.clientHeight}function t(){if(l.viewportTop=a.scrollTop(),l.viewportBottom=l.viewportTop+l.viewportHeight,l.documentHeight=c.height(),l.documentHeight!==b){for(k=u.length;k--;)u[k].recalculateLocation();b=l.documentHeight}}function o(){l.viewportHeight=e(),t(),r()}function i(){clearTimeout(S),S=setTimeout(o,100)}function r(){for(T=u.length;T--;)u[T].update();for(T=u.length;T--;)u[T].triggerCallbacks()}function n(e,t){function o(e){if(0!==e.length)for(b=e.length;b--;)k=e[b],k.callback.call(i,x),k.isOne&&e.splice(b,1)}var i=this;this.watchItem=e,t?t===+t?this.offsets={top:t,bottom:t}:this.offsets=$.extend({},y,t):this.offsets=y,this.callbacks={};for(var r=0,n=v.length;n>r;r++)i.callbacks[v[r]]=[];this.locked=!1;var s,a,c,u,b,k;this.triggerCallbacks=function S(){switch(this.isInViewport&&!s&&o(this.callbacks[h]),this.isFullyInViewport&&!a&&o(this.callbacks[p]),this.isAboveViewport!==c&&this.isBelowViewport!==u&&(o(this.callbacks[d]),a||this.isFullyInViewport||(o(this.callbacks[p]),o(this.callbacks[f])),s||this.isInViewport||(o(this.callbacks[h]),o(this.callbacks[m]))),!this.isFullyInViewport&&a&&o(this.callbacks[f]),!this.isInViewport&&s&&o(this.callbacks[m]),this.isInViewport!==s&&o(this.callbacks[d]),!0){case s!==this.isInViewport:case a!==this.isFullyInViewport:case c!==this.isAboveViewport:case u!==this.isBelowViewport:o(this.callbacks[w])}s=this.isInViewport,a=this.isFullyInViewport,c=this.isAboveViewport,u=this.isBelowViewport},this.recalculateLocation=function(){if(!this.locked){var e=this.top,t=this.bottom;if(this.watchItem.nodeName){var i=this.watchItem.style.display;"none"===i&&(this.watchItem.style.display="");var r=$(this.watchItem).offset();this.top=r.top,this.bottom=r.top+this.watchItem.offsetHeight,"none"===i&&(this.watchItem.style.display=i)}else this.watchItem===+this.watchItem?this.watchItem>0?this.top=this.bottom=this.watchItem:this.top=this.bottom=l.documentHeight-this.watchItem:(this.top=this.watchItem.top,this.bottom=this.watchItem.bottom);this.top-=this.offsets.top,this.bottom+=this.offsets.bottom,this.height=this.bottom-this.top,void 0===e&&void 0===t||this.top===e&&this.bottom===t||o(this.callbacks[g])}},this.recalculateLocation(),this.update(),s=this.isInViewport,a=this.isFullyInViewport,c=this.isAboveViewport,u=this.isBelowViewport}function s(e){x=e,t(),r()}var l={},a=$(window),c=$(document),u=[],d="visibilityChange",h="enterViewport",p="fullyEnterViewport",m="exitViewport",f="partiallyExitViewport",g="locationChange",w="stateChange",v=[d,h,p,m,f,g,w],y={top:0,bottom:0};l.viewportTop,l.viewportBottom,l.documentHeight,l.viewportHeight=e();var b,x,k,S,T;n.prototype={on:function(e,t,o){switch(!0){case e===d&&!this.isInViewport&&this.isAboveViewport:case e===h&&this.isInViewport:case e===p&&this.isFullyInViewport:case e===m&&this.isAboveViewport&&!this.isInViewport:case e===f&&this.isAboveViewport:if(t(),o)return}if(!this.callbacks[e])throw new Error("Tried to add a scroll monitor listener of type "+e+". Your options are: "+v.join(", "));this.callbacks[e].push({callback:t,isOne:o})},off:function(e,t){if(!this.callbacks[e])throw new Error("Tried to remove a scroll monitor listener of type "+e+". Your options are: "+v.join(", "));for(var o=0,i;i=this.callbacks[e][o];o++)if(i.callback===t){this.callbacks[e].splice(o,1);break}},one:function(e,t){this.on(e,t,!0)},recalculateSize:function(){this.height=this.watchItem.offsetHeight+this.offsets.top+this.offsets.bottom,this.bottom=this.top+this.height},update:function(){this.isAboveViewport=this.top<l.viewportTop,this.isBelowViewport=this.bottom>l.viewportBottom,this.isInViewport=this.top<=l.viewportBottom&&this.bottom>=l.viewportTop,this.isFullyInViewport=this.top>=l.viewportTop&&this.bottom<=l.viewportBottom||this.isAboveViewport&&this.isBelowViewport},destroy:function(){var e=u.indexOf(this),t=this;u.splice(e,1);for(var o=0,i=v.length;i>o;o++)t.callbacks[v[o]].length=0},lock:function(){this.locked=!0},unlock:function(){this.locked=!1}};for(var z=function(e){return function(t,o){this.on.call(this,e,t,o)}},E=0,L=v.length;L>E;E++){var M=v[E];n.prototype[M]=z(M)}try{t()}catch(C){$(t)}return a.on("scroll",s),a.on("resize",i),l.beget=l.create=function(e,t){"string"==typeof e&&(e=$(e)[0]),e instanceof $&&(e=e[0]);var o=new n(e,t);return u.push(o),o.update(),o},l.update=function(){x=null,t(),r()},l.recalculateLocations=function(){l.documentHeight=0,l.update()},l});